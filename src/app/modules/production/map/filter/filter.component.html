<div class="flex gap-2 ">
    <div class="flex-1 max-w-[100px]">

        <div class="form-group">
            <label for="filter-category_id">Kategoriya</label>
            <p-dropdown
                [options]="categories$ | async"
                [ngModel]="category_id$ | async"
                (ngModelChange)="category_id$.next($event)"
                optionLabel="name"
                optionValue="id"
                [filter]="true"
                filterBy="name"
                [style]="{'width':'100%'}"
                inputId="filter-category_id"
                placeholder="Tanlang"
            >
            </p-dropdown>
        </div>

    </div>

    <div class="flex-1 max-w-[185px]">
        <div class="form-group">
            <label for="filter-komplekt_id">Komplekt</label>
            <p-dropdown
                [options]="komplekts"
                [ngModel]="komplekt_id$ | async"
                (ngModelChange)="komplekt_id$.next($event)"
                optionLabel="name"
                optionValue="id"
                [filter]="true"
                filterBy="name"
                [style]="{'width':'100%'}"
                inputId="filter-komplekt_id"
                placeholder="Tanlang"
            >
            </p-dropdown>
        </div>
    </div>

    <div class="flex-1 max-w-[210px]">
        <div class="form-group">
            <label for="filter-furniture_id">Mebel</label>
            <p-dropdown
                [options]="furnitures$ | async"
                [ngModel]="furniture_id$ | async"
                (ngModelChange)="furniture_id$.next($event)"
                optionLabel="name"
                optionValue="id"
                [filter]="true"
                filterBy="name"
                [style]="{'width':'100%'}"
                inputId="filter-furniture_id"
                placeholder="Tanlang"
            >
            </p-dropdown>
        </div>
    </div>


    <div class="min-w-[120px]">
        <div class="form-group">
            <div class="flex">
                <label for="filter-map_id">
                    Versiya
                </label>

                <div class="flex" *ngIf="furniture_id$ | async">
                    <button mat-icon-button color="primary" (click)="openCreateMapModal()" class="version-buttons">
                        <mat-icon>add_box</mat-icon>
                    </button>

                    <button mat-button [matMenuTriggerFor]="menu" *ngIf="map_id()" class="version-buttons">
                        <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="openEditMapModal()">
                            <mat-icon>edit</mat-icon>
                            <span>O'zgartirish</span>
                        </button>
                        <button mat-menu-item (click)="deleteMap()">
                            <mat-icon>delete</mat-icon>
                            <span>O'chirish</span>
                        </button>
                    </mat-menu>
                </div>
            </div>


            <p-dropdown
                [options]="mapOptions$ | async"
                [ngModel]="map_id()"
                (ngModelChange)="map_id.set($event)"
                optionLabel="version"
                optionValue="id"
                [style]="{'width':'100%'}"
                inputId="filter-map_id"
                placeholder="Tanlang"
            >
            </p-dropdown>
        </div>
    </div>

    <map-modal [(state)]="mapModalState" [furniture_id]="furniture_id$ | async" [map_id]="map_id()"/>

</div>
